<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
  <title>Cloudcache - Performance Settings</title>
  
  <!-- Shopify's Inter font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  
  <style>
    /* ============================================
       POLARIS DESIGN TOKENS
       ============================================ */
    :root {
      --p-color-bg: #0d0d0d;
      --p-color-bg-surface: #1a1a1a;
      --p-color-bg-surface-hover: #262626;
      --p-color-bg-surface-secondary: #141414;
      --p-color-bg-surface-tertiary: #1f1f1f;
      --p-color-bg-fill-secondary: #262626;
      --p-color-bg-fill-secondary-hover: #333333;
      --p-color-bg-fill-critical: #e51c00;
      --p-color-bg-fill-success: #008060;
      
      --p-color-border: #333333;
      --p-color-border-hover: #444444;
      --p-color-border-focus: #005bd3;
      --p-color-border-secondary: #262626;
      
      --p-color-text: #e3e3e3;
      --p-color-text-secondary: #b5b5b5;
      --p-color-text-disabled: #757575;
      --p-color-text-critical: #ff8a80;
      --p-color-text-success: #36d399;
      --p-color-text-on-fill: #ffffff;
      
      --p-color-icon: #b5b5b5;
      
      --p-space-050: 2px;
      --p-space-100: 4px;
      --p-space-150: 6px;
      --p-space-200: 8px;
      --p-space-300: 12px;
      --p-space-400: 16px;
      --p-space-500: 20px;
      --p-space-600: 24px;
      --p-space-800: 32px;
      
      --p-border-radius-100: 4px;
      --p-border-radius-200: 8px;
      --p-border-radius-300: 12px;
      --p-border-radius-full: 9999px;
      
      --p-shadow-100: 0 1px 0 rgba(0, 0, 0, 0.07);
      --p-shadow-200: 0 3px 1px -1px rgba(0, 0, 0, 0.07);
      --p-shadow-300: 0 4px 6px -2px rgba(0, 0, 0, 0.2);
      --p-shadow-600: 0 20px 20px -8px rgba(0, 0, 0, 0.28);
      
      --p-font-family-sans: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      --p-font-family-mono: 'JetBrains Mono', monospace;
      --p-font-size-275: 11px;
      --p-font-size-300: 12px;
      --p-font-size-325: 13px;
      --p-font-size-350: 14px;
      --p-font-size-400: 16px;
      --p-font-size-500: 20px;
      --p-font-size-600: 24px;
      --p-font-weight-medium: 500;
      --p-font-weight-semibold: 600;
      --p-font-weight-bold: 700;
      
      --p-width-page-max: 990px;
      --p-motion-duration-150: 150ms;
      --p-motion-duration-200: 200ms;
      --p-motion-duration-300: 300ms;
      --p-motion-ease-in-out: cubic-bezier(0.42, 0, 0.58, 1);
      
      --cc-brand-primary: #F48120;
      --cc-brand-secondary: #ff9a3c;
      --cc-brand-text: #ffa94d;
    }
    
    body.light-theme {
      --p-color-bg: #f1f1f1;
      --p-color-bg-surface: #ffffff;
      --p-color-bg-surface-hover: #f6f6f7;
      --p-color-bg-surface-secondary: #f6f6f7;
      --p-color-bg-surface-tertiary: #ebebeb;
      --p-color-bg-fill-secondary: #f1f1f1;
      --p-color-bg-fill-secondary-hover: #e3e3e3;
      --p-color-border: #c9cccf;
      --p-color-border-hover: #8c9196;
      --p-color-border-secondary: #e1e3e5;
      --p-color-text: #202223;
      --p-color-text-secondary: #6d7175;
      --p-color-text-disabled: #8c9196;
      --p-color-text-success: #006e52;
      --p-color-icon: #5c5f62;
      --cc-brand-text: #b35500;
    }

    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      min-height: 100vh;
      background: var(--p-color-bg);
      font-family: var(--p-font-family-sans);
      font-size: var(--p-font-size-350);
      color: var(--p-color-text);
      overflow-x: hidden;
      transition: background var(--p-motion-duration-200) var(--p-motion-ease-in-out);
    }

    .Polaris-Page {
      max-width: var(--p-width-page-max);
      margin: 0 auto;
      padding: var(--p-space-400);
    }
    @media (min-width: 768px) { .Polaris-Page { padding: var(--p-space-600) var(--p-space-800); } }

    .Polaris-Page__Header { margin-bottom: var(--p-space-500); }
    .Polaris-Header__Title { font-size: var(--p-font-size-500); font-weight: var(--p-font-weight-semibold); }
    @media (min-width: 768px) { .Polaris-Header__Title { font-size: var(--p-font-size-600); } }
    .Polaris-Header__Subtitle { margin-top: var(--p-space-100); color: var(--p-color-text-secondary); }

    .Polaris-Badge {
      display: inline-flex;
      align-items: center;
      gap: var(--p-space-100);
      padding: var(--p-space-050) var(--p-space-200);
      border-radius: var(--p-border-radius-full);
      font-size: var(--p-font-size-300);
      font-weight: var(--p-font-weight-medium);
      background: linear-gradient(135deg, var(--cc-brand-primary), var(--cc-brand-secondary));
      color: var(--p-color-text-on-fill);
    }

    .Polaris-Card {
      background: var(--p-color-bg-surface);
      border-radius: var(--p-border-radius-300);
      border: 1px solid var(--p-color-border);
      box-shadow: var(--p-shadow-100);
      overflow: hidden;
      transition: box-shadow var(--p-motion-duration-150) var(--p-motion-ease-in-out),
                  border-color var(--p-motion-duration-150) var(--p-motion-ease-in-out),
                  transform var(--p-motion-duration-150) var(--p-motion-ease-in-out);
    }
    .Polaris-Card + .Polaris-Card { margin-top: var(--p-space-400); }
    .Polaris-Card:hover {
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);
      transform: translateY(-3px) rotate(-0.4deg);
    }
    .Polaris-Card.is-active {
      border-color: var(--cc-brand-primary);
      box-shadow: 0 0 0 2px var(--cc-brand-primary), 0 4px 20px rgba(244, 129, 32, 0.2);
    }
    .Polaris-Card__Section { padding: var(--p-space-400); }
    @media (min-width: 490px) { .Polaris-Card__Section { padding: var(--p-space-400) var(--p-space-500); } }

    .Polaris-SettingToggle { display: flex; align-items: flex-start; gap: var(--p-space-300); }
    @media (min-width: 490px) { .Polaris-SettingToggle { gap: var(--p-space-400); } }
    
    .Polaris-SettingToggle__Icon {
      width: 42px; height: 42px;
      display: flex; align-items: center; justify-content: center;
      background: linear-gradient(135deg, var(--cc-brand-primary), var(--cc-brand-secondary));
      border-radius: var(--p-border-radius-300);
      font-size: 20px;
      flex-shrink: 0;
      box-shadow: 0 2px 8px rgba(244, 129, 32, 0.3);
      transition: transform var(--p-motion-duration-150) var(--p-motion-ease-in-out);
    }
    @media (min-width: 490px) { .Polaris-SettingToggle__Icon { width: 48px; height: 48px; font-size: 24px; } }
    .Polaris-Card:hover .Polaris-SettingToggle__Icon { transform: scale(1.08) rotate(-2deg); }

    .Polaris-SettingToggle__Content { flex: 1; min-width: 0; }
    .Polaris-SettingToggle__Title { font-size: var(--p-font-size-350); font-weight: var(--p-font-weight-semibold); margin-bottom: var(--p-space-050); }
    .Polaris-SettingToggle__Description { font-size: var(--p-font-size-325); color: var(--p-color-text-secondary); line-height: 1.45; }
    .Polaris-SettingToggle__Actions { display: flex; align-items: center; gap: var(--p-space-200); flex-shrink: 0; }
    @media (min-width: 490px) { .Polaris-SettingToggle__Actions { gap: var(--p-space-300); } }

    .Polaris-Button--plain {
      display: inline-flex; align-items: center; justify-content: center;
      min-width: 32px; min-height: 32px;
      padding: var(--p-space-150);
      background: var(--p-color-bg-fill-secondary);
      border: 1px solid var(--p-color-border);
      border-radius: var(--p-border-radius-200);
      color: var(--p-color-icon);
      cursor: pointer;
      transition: all var(--p-motion-duration-150) var(--p-motion-ease-in-out);
    }
    @media (min-width: 490px) { .Polaris-Button--plain { min-width: 36px; min-height: 36px; } }
    .Polaris-Button--plain:hover { background: var(--p-color-bg-fill-secondary-hover); color: var(--p-color-text); }
    .Polaris-Button--plain:focus-visible { outline: none; box-shadow: 0 0 0 2px var(--p-color-border-focus); }
    .Polaris-Card.is-active .Polaris-Button--plain {
      background: var(--cc-brand-primary);
      border-color: var(--cc-brand-primary);
      color: var(--p-color-text-on-fill);
    }

    .Polaris-Toggle { position: relative; width: 52px; height: 28px; flex-shrink: 0; }
    @media (min-width: 490px) { .Polaris-Toggle { width: 56px; height: 30px; } }
    .Polaris-Toggle__Input { opacity: 0; width: 0; height: 0; position: absolute; }
    .Polaris-Toggle__Slider {
      position: absolute; inset: 0;
      background: var(--p-color-border);
      border-radius: var(--p-border-radius-full);
      cursor: pointer;
      transition: background var(--p-motion-duration-150) var(--p-motion-ease-in-out);
    }
    .Polaris-Toggle__Slider::before {
      content: '';
      position: absolute;
      width: 22px; height: 22px;
      left: 3px; bottom: 3px;
      background: #fff;
      border-radius: 50%;
      transition: transform var(--p-motion-duration-200) var(--p-motion-ease-in-out);
      box-shadow: var(--p-shadow-300);
    }
    @media (min-width: 490px) { .Polaris-Toggle__Slider::before { width: 24px; height: 24px; } }
    .Polaris-Toggle__Input:checked + .Polaris-Toggle__Slider {
      background: var(--cc-brand-primary);
      box-shadow: 0 0 12px rgba(244, 129, 32, 0.4);
    }
    .Polaris-Toggle__Input:checked + .Polaris-Toggle__Slider::before { transform: translateX(24px); }
    @media (min-width: 490px) { .Polaris-Toggle__Input:checked + .Polaris-Toggle__Slider::before { transform: translateX(26px); } }
    .Polaris-Toggle__Input:focus-visible + .Polaris-Toggle__Slider { box-shadow: 0 0 0 3px rgba(244, 129, 32, 0.5); }
    .Polaris-Toggle:hover .Polaris-Toggle__Slider { background: var(--p-color-border-hover); }
    .Polaris-Toggle:hover .Polaris-Toggle__Input:checked + .Polaris-Toggle__Slider { background: var(--cc-brand-secondary); }

    /* Sheet Panel */
    .Polaris-Backdrop {
      position: fixed; inset: 0;
      background: rgba(0, 0, 0, 0.5);
      opacity: 0; visibility: hidden;
      transition: opacity var(--p-motion-duration-200) var(--p-motion-ease-in-out);
      z-index: 400;
    }
    .Polaris-Backdrop.is-active { opacity: 1; visibility: visible; }

    .Polaris-Sheet {
      position: fixed; top: 0; right: 0;
      width: 100%; max-width: 500px;
      height: 100vh; height: 100dvh;
      background: var(--p-color-bg-surface);
      border-left: 1px solid var(--p-color-border);
      z-index: 401;
      display: flex; flex-direction: column;
      transform: translateX(100%);
      transition: transform var(--p-motion-duration-300) var(--p-motion-ease-in-out);
      box-shadow: var(--p-shadow-600);
    }
    .Polaris-Sheet.is-active { transform: translateX(0); }

    .Polaris-Sheet__Header {
      display: flex; align-items: center; gap: var(--p-space-300);
      padding: var(--p-space-400);
      border-bottom: 1px solid var(--p-color-border);
      background: var(--p-color-bg-surface-secondary);
      flex-shrink: 0;
    }
    .Polaris-Sheet__HeaderIcon {
      width: 40px; height: 40px;
      display: flex; align-items: center; justify-content: center;
      background: linear-gradient(135deg, var(--cc-brand-primary), var(--cc-brand-secondary));
      border-radius: var(--p-border-radius-200);
      font-size: 20px;
      box-shadow: 0 2px 8px rgba(244, 129, 32, 0.3);
    }
    .Polaris-Sheet__HeaderTitle { flex: 1; font-size: var(--p-font-size-400); font-weight: var(--p-font-weight-semibold); }
    .Polaris-Sheet__CloseButton {
      width: 32px; height: 32px;
      display: flex; align-items: center; justify-content: center;
      background: transparent; border: none;
      border-radius: var(--p-border-radius-200);
      color: var(--p-color-icon);
      cursor: pointer;
      transition: all var(--p-motion-duration-150) var(--p-motion-ease-in-out);
    }
    .Polaris-Sheet__CloseButton:hover { background: rgba(229, 28, 0, 0.15); color: var(--p-color-text-critical); }

    .Polaris-Sheet__Content { flex: 1; overflow-y: auto; padding: var(--p-space-400); -webkit-overflow-scrolling: touch; }

    .Polaris-Stack { display: flex; flex-direction: column; gap: var(--p-space-500); }
    .Polaris-TextBlock { display: flex; flex-direction: column; gap: var(--p-space-300); }
    .Polaris-TextBlock__Heading {
      font-size: var(--p-font-size-275);
      font-weight: var(--p-font-weight-semibold);
      color: var(--cc-brand-text);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .Polaris-TextBlock p { font-size: var(--p-font-size-350); line-height: 1.55; color: var(--p-color-text-secondary); }
    .Polaris-TextBlock strong { color: var(--p-color-text); font-weight: var(--p-font-weight-semibold); }
    .Polaris-TextBlock em { color: var(--p-color-text-success); font-style: normal; font-weight: var(--p-font-weight-medium); }

    .Polaris-CalloutCard {
      background: var(--p-color-bg-surface-secondary);
      border: 1px solid var(--p-color-border);
      border-left: 4px solid var(--cc-brand-primary);
      border-radius: var(--p-border-radius-200);
      padding: var(--p-space-300);
    }
    .Polaris-CalloutCard__Title {
      font-size: var(--p-font-size-325);
      font-weight: var(--p-font-weight-semibold);
      color: var(--cc-brand-text);
      margin-bottom: var(--p-space-100);
    }
    .Polaris-CalloutCard p { font-size: var(--p-font-size-325); color: var(--p-color-text-secondary); margin: 0; }

    .Polaris-VisualBox {
      background: var(--p-color-bg-surface-tertiary);
      border: 1px solid var(--p-color-border-secondary);
      border-radius: var(--p-border-radius-200);
      padding: var(--p-space-400);
      display: flex; flex-direction: column; gap: var(--p-space-300);
    }
    .Polaris-VisualBox__Label {
      font-size: var(--p-font-size-275);
      font-weight: var(--p-font-weight-medium);
      color: var(--p-color-text-disabled);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      text-align: center;
    }

    /* Code Transform Visualization */
    .Code-Transform { display: flex; flex-direction: column; gap: var(--p-space-200); }
    .Code-Block {
      background: var(--p-color-bg-surface);
      border: 1px solid var(--p-color-border);
      border-radius: var(--p-border-radius-200);
      padding: var(--p-space-300);
      font-family: var(--p-font-family-mono);
      font-size: 11px;
      line-height: 1.5;
      overflow-x: auto;
    }
    .Code-Block--before { border-left: 3px solid var(--p-color-text-critical); }
    .Code-Block--after { border-left: 3px solid var(--cc-brand-primary); }
    .Code-Label {
      font-size: var(--p-font-size-275);
      font-weight: var(--p-font-weight-medium);
      color: var(--p-color-text-disabled);
      margin-bottom: var(--p-space-050);
    }
    .Code-Block .keyword { color: #c792ea; }
    .Code-Block .string { color: #c3e88d; }
    .Code-Block .comment { color: #546e7a; }
    .Code-Block .property { color: #82aaff; }
    .Code-Block .value { color: #f78c6c; }

    /* File Size Comparison */
    .Size-Compare { display: flex; flex-direction: column; gap: var(--p-space-300); }
    .Size-Bar-Container { display: flex; flex-direction: column; gap: var(--p-space-050); }
    .Size-Bar-Label { font-size: var(--p-font-size-275); color: var(--p-color-text-disabled); display: flex; justify-content: space-between; }
    .Size-Bar {
      height: 24px;
      border-radius: var(--p-border-radius-100);
      transition: width 0.5s ease;
    }
    .Size-Bar--original { background: var(--p-color-border); width: 100%; }
    .Size-Bar--compressed { background: var(--cc-brand-primary); }
    .Size-Savings {
      text-align: center;
      padding: var(--p-space-200);
      background: rgba(244, 129, 32, 0.1);
      border-radius: var(--p-border-radius-100);
      border: 1px solid var(--cc-brand-primary);
    }
    .Size-Savings__Value { font-size: var(--p-font-size-500); font-weight: var(--p-font-weight-bold); color: var(--cc-brand-text); }
    .Size-Savings__Label { font-size: var(--p-font-size-275); color: var(--p-color-text-secondary); }

    /* Timeline */
    .Timeline-Comparison { display: flex; flex-direction: column; gap: var(--p-space-300); }
    .Timeline-Row { display: flex; flex-direction: column; gap: var(--p-space-050); }
    .Timeline-Label { font-size: var(--p-font-size-275); font-weight: var(--p-font-weight-medium); color: var(--p-color-text-disabled); }
    .Timeline-Bar { height: 22px; border-radius: var(--p-border-radius-100); display: flex; overflow: hidden; }
    .Timeline-Segment { display: flex; align-items: center; justify-content: center; font-size: 9px; font-weight: var(--p-font-weight-semibold); color: #fff; }
    .Timeline-Segment--blocking { background: var(--p-color-bg-fill-critical); }
    .Timeline-Segment--delayed { background: var(--p-color-border); color: var(--p-color-text-disabled); }
    .Timeline-Segment--fast { background: var(--cc-brand-primary); }
    .Timeline-Segment--deferred { background: rgba(244, 129, 32, 0.2); color: var(--cc-brand-text); }
    .Timeline-Time { font-size: var(--p-font-size-275); font-weight: var(--p-font-weight-semibold); text-align: right; }
    .Timeline-Time--slow { color: var(--p-color-text-critical); }
    .Timeline-Time--fast { color: var(--cc-brand-text); }

    /* Stats Grid */
    .Stats-Grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--p-space-200); }
    .Stat-Card {
      background: var(--p-color-bg-surface);
      border: 1px solid var(--p-color-border);
      border-radius: var(--p-border-radius-200);
      padding: var(--p-space-300);
      text-align: center;
    }
    .Stat-Value { font-size: var(--p-font-size-500); font-weight: var(--p-font-weight-bold); color: var(--cc-brand-text); }
    .Stat-Label { font-size: var(--p-font-size-275); color: var(--p-color-text-disabled); text-transform: uppercase; margin-top: var(--p-space-050); }

    /* Sequence Diagram */
    .Sequence-Diagram { display: flex; flex-direction: column; gap: var(--p-space-200); }
    .Sequence-Row {
      display: flex; align-items: center; gap: var(--p-space-200);
      padding: var(--p-space-200);
      background: var(--p-color-bg-surface);
      border-radius: var(--p-border-radius-100);
      border: 1px solid var(--p-color-border);
    }
    .Sequence-Row--highlight { border-color: var(--cc-brand-primary); background: rgba(244, 129, 32, 0.05); }
    .Sequence-Step {
      width: 24px; height: 24px;
      display: flex; align-items: center; justify-content: center;
      background: var(--cc-brand-primary);
      border-radius: 50%;
      font-size: 11px; font-weight: var(--p-font-weight-bold);
      color: #fff;
      flex-shrink: 0;
    }
    .Sequence-Content { flex: 1; }
    .Sequence-Title { font-size: var(--p-font-size-325); font-weight: var(--p-font-weight-semibold); }
    .Sequence-Desc { font-size: var(--p-font-size-275); color: var(--p-color-text-secondary); }
    .Sequence-Time { font-size: var(--p-font-size-275); color: var(--cc-brand-text); font-weight: var(--p-font-weight-medium); }

    /* Browser Mockup */
    .Browser-Mockup {
      background: var(--p-color-bg-surface);
      border: 1px solid var(--p-color-border);
      border-radius: var(--p-border-radius-200);
      overflow: hidden;
    }
    .Browser-Mockup__Bar {
      display: flex; align-items: center; gap: var(--p-space-200);
      padding: var(--p-space-150) var(--p-space-300);
      background: var(--p-color-bg-surface-secondary);
      border-bottom: 1px solid var(--p-color-border);
    }
    .Browser-Mockup__Dots { display: flex; gap: var(--p-space-100); }
    .Browser-Mockup__Dots span { width: 8px; height: 8px; border-radius: 50%; }
    .Browser-Mockup__Dots span:nth-child(1) { background: #ff5f57; }
    .Browser-Mockup__Dots span:nth-child(2) { background: #ffbd2e; }
    .Browser-Mockup__Dots span:nth-child(3) { background: #28c840; }
    .Browser-Mockup__URL {
      flex: 1;
      background: var(--p-color-bg);
      padding: var(--p-space-050) var(--p-space-200);
      border-radius: var(--p-border-radius-100);
      font-size: var(--p-font-size-275);
      color: var(--p-color-text-disabled);
      font-family: monospace;
    }
    .Browser-Mockup__Content { padding: var(--p-space-300); display: flex; flex-direction: column; gap: var(--p-space-200); min-height: 70px; }
    .Skeleton-Block { background: var(--p-color-border); border-radius: var(--p-border-radius-100); animation: skeleton-pulse 1.5s ease-in-out infinite; }
    .Skeleton-Block--header { width: 35%; height: 10px; background: var(--cc-brand-primary); }
    .Skeleton-Block--nav { width: 55%; height: 8px; }
    .Skeleton-Block--hero { width: 100%; height: 28px; }
    .Skeleton-Block--text { width: 75%; height: 6px; }
    @keyframes skeleton-pulse { 0%, 100% { opacity: 0.4; } 50% { opacity: 1; } }

    .Polaris-Banner--success {
      display: flex; align-items: center; gap: var(--p-space-200);
      padding: var(--p-space-200) var(--p-space-300);
      background: rgba(244, 129, 32, 0.1);
      border: 1px solid var(--cc-brand-primary);
      border-radius: var(--p-border-radius-100);
      font-size: var(--p-font-size-300);
      font-weight: var(--p-font-weight-medium);
      color: var(--cc-brand-text);
    }
    .Polaris-Banner__Icon {
      width: 18px; height: 18px;
      background: var(--cc-brand-primary);
      border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      color: #fff; font-size: 10px;
    }

    .Theme-Toggle-Card { border-style: dashed; }

    .visually-hidden { position: absolute; width: 1px; height: 1px; margin: -1px; padding: 0; overflow: hidden; clip: rect(0, 0, 0, 0); border: 0; }
    .skip-link { position: absolute; top: -40px; left: 0; background: var(--cc-brand-primary); color: #fff; padding: var(--p-space-200) var(--p-space-400); z-index: 1000; }
    .skip-link:focus { top: 0; }

    @media (max-width: 489px) {
      .Polaris-SettingToggle { flex-wrap: wrap; }
      .Polaris-SettingToggle__Content { order: 2; width: calc(100% - 52px); }
      .Polaris-SettingToggle__Actions {
        order: 3; width: 100%; justify-content: space-between;
        margin-top: var(--p-space-300); padding-top: var(--p-space-300);
        border-top: 1px solid var(--p-color-border-secondary);
      }
      .Polaris-Sheet { max-width: 100%; }
    }

    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after { animation-duration: 0.01ms !important; transition-duration: 0.01ms !important; }
    }
  </style>
</head>
<body>
  <a href="#main-content" class="skip-link">Skip to main content</a>
  
  <main class="Polaris-Page" id="main-content" role="main">
    <span class="Polaris-Badge">
      <svg width="12" height="12" viewBox="0 0 20 20" fill="currentColor"><path d="M10 0a10 10 0 1 0 10 10A10 10 0 0 0 10 0zm5.7 7.3-6 6a1 1 0 0 1-1.4 0l-3-3a1 1 0 0 1 1.4-1.4l2.3 2.3 5.3-5.3a1 1 0 0 1 1.4 1.4z"/></svg>
      Polaris Compliant
    </span>
    
    <header class="Polaris-Page__Header">
      <h1 class="Polaris-Header__Title">Performance Settings</h1>
      <p class="Polaris-Header__Subtitle">Optimize your store's speed with Cloudflare performance features.</p>
    </header>

    <div class="Polaris-CardList" role="list">
      <!-- Rocket Loader -->
      <article class="Polaris-Card" data-setting="rocket-loader" role="listitem">
        <div class="Polaris-Card__Section">
          <div class="Polaris-SettingToggle">
            <div class="Polaris-SettingToggle__Icon">üöÄ</div>
            <div class="Polaris-SettingToggle__Content">
              <h2 class="Polaris-SettingToggle__Title">Rocket Loader</h2>
              <p class="Polaris-SettingToggle__Description">Defer JavaScript loading until after page content renders.</p>
            </div>
            <div class="Polaris-SettingToggle__Actions">
              <button class="Polaris-Button--plain" aria-label="Learn more about Rocket Loader" data-panel="rocket-loader">
                <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor"><circle cx="10" cy="10" r="9" fill="none" stroke="currentColor" stroke-width="2"/><path d="M9 8a1 1 0 0 1 2 0c0 1-1.5 1.5-1.5 3m0 2.5a.5.5 0 1 0 1 0 .5.5 0 0 0-1 0"/></svg>
              </button>
              <label class="Polaris-Toggle">
                <input type="checkbox" class="Polaris-Toggle__Input" checked>
                <span class="Polaris-Toggle__Slider"></span>
                <span class="visually-hidden">Toggle Rocket Loader</span>
              </label>
            </div>
          </div>
        </div>
      </article>

      <!-- Minify JavaScript -->
      <article class="Polaris-Card" data-setting="minify-js" role="listitem">
        <div class="Polaris-Card__Section">
          <div class="Polaris-SettingToggle">
            <div class="Polaris-SettingToggle__Icon">üì¶</div>
            <div class="Polaris-SettingToggle__Content">
              <h2 class="Polaris-SettingToggle__Title">Minify JavaScript</h2>
              <p class="Polaris-SettingToggle__Description">Remove unnecessary characters to reduce file sizes.</p>
            </div>
            <div class="Polaris-SettingToggle__Actions">
              <button class="Polaris-Button--plain" aria-label="Learn more about Minify JavaScript" data-panel="minify-js">
                <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor"><circle cx="10" cy="10" r="9" fill="none" stroke="currentColor" stroke-width="2"/><path d="M9 8a1 1 0 0 1 2 0c0 1-1.5 1.5-1.5 3m0 2.5a.5.5 0 1 0 1 0 .5.5 0 0 0-1 0"/></svg>
              </button>
              <label class="Polaris-Toggle">
                <input type="checkbox" class="Polaris-Toggle__Input" checked>
                <span class="Polaris-Toggle__Slider"></span>
                <span class="visually-hidden">Toggle Minify JavaScript</span>
              </label>
            </div>
          </div>
        </div>
      </article>

      <!-- Minify CSS -->
      <article class="Polaris-Card" data-setting="minify-css" role="listitem">
        <div class="Polaris-Card__Section">
          <div class="Polaris-SettingToggle">
            <div class="Polaris-SettingToggle__Icon">üé®</div>
            <div class="Polaris-SettingToggle__Content">
              <h2 class="Polaris-SettingToggle__Title">Minify CSS</h2>
              <p class="Polaris-SettingToggle__Description">Compress stylesheets by removing formatting and comments.</p>
            </div>
            <div class="Polaris-SettingToggle__Actions">
              <button class="Polaris-Button--plain" aria-label="Learn more about Minify CSS" data-panel="minify-css">
                <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor"><circle cx="10" cy="10" r="9" fill="none" stroke="currentColor" stroke-width="2"/><path d="M9 8a1 1 0 0 1 2 0c0 1-1.5 1.5-1.5 3m0 2.5a.5.5 0 1 0 1 0 .5.5 0 0 0-1 0"/></svg>
              </button>
              <label class="Polaris-Toggle">
                <input type="checkbox" class="Polaris-Toggle__Input" checked>
                <span class="Polaris-Toggle__Slider"></span>
                <span class="visually-hidden">Toggle Minify CSS</span>
              </label>
            </div>
          </div>
        </div>
      </article>

      <!-- Brotli Compression -->
      <article class="Polaris-Card" data-setting="brotli" role="listitem">
        <div class="Polaris-Card__Section">
          <div class="Polaris-SettingToggle">
            <div class="Polaris-SettingToggle__Icon">üóúÔ∏è</div>
            <div class="Polaris-SettingToggle__Content">
              <h2 class="Polaris-SettingToggle__Title">Brotli Compression</h2>
              <p class="Polaris-SettingToggle__Description">Advanced compression for faster transfers and reduced bandwidth.</p>
            </div>
            <div class="Polaris-SettingToggle__Actions">
              <button class="Polaris-Button--plain" aria-label="Learn more about Brotli" data-panel="brotli">
                <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor"><circle cx="10" cy="10" r="9" fill="none" stroke="currentColor" stroke-width="2"/><path d="M9 8a1 1 0 0 1 2 0c0 1-1.5 1.5-1.5 3m0 2.5a.5.5 0 1 0 1 0 .5.5 0 0 0-1 0"/></svg>
              </button>
              <label class="Polaris-Toggle">
                <input type="checkbox" class="Polaris-Toggle__Input" checked>
                <span class="Polaris-Toggle__Slider"></span>
                <span class="visually-hidden">Toggle Brotli</span>
              </label>
            </div>
          </div>
        </div>
      </article>

      <!-- Early Hints -->
      <article class="Polaris-Card" data-setting="early-hints" role="listitem">
        <div class="Polaris-Card__Section">
          <div class="Polaris-SettingToggle">
            <div class="Polaris-SettingToggle__Icon">‚è±Ô∏è</div>
            <div class="Polaris-SettingToggle__Content">
              <h2 class="Polaris-SettingToggle__Title">Early Hints</h2>
              <p class="Polaris-SettingToggle__Description">Preload critical resources before the main response arrives.</p>
            </div>
            <div class="Polaris-SettingToggle__Actions">
              <button class="Polaris-Button--plain" aria-label="Learn more about Early Hints" data-panel="early-hints">
                <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor"><circle cx="10" cy="10" r="9" fill="none" stroke="currentColor" stroke-width="2"/><path d="M9 8a1 1 0 0 1 2 0c0 1-1.5 1.5-1.5 3m0 2.5a.5.5 0 1 0 1 0 .5.5 0 0 0-1 0"/></svg>
              </button>
              <label class="Polaris-Toggle">
                <input type="checkbox" class="Polaris-Toggle__Input">
                <span class="Polaris-Toggle__Slider"></span>
                <span class="visually-hidden">Toggle Early Hints</span>
              </label>
            </div>
          </div>
        </div>
      </article>

      <!-- Theme Toggle -->
      <article class="Polaris-Card Theme-Toggle-Card" role="listitem">
        <div class="Polaris-Card__Section">
          <div class="Polaris-SettingToggle">
            <div class="Polaris-SettingToggle__Icon">üåì</div>
            <div class="Polaris-SettingToggle__Content">
              <h2 class="Polaris-SettingToggle__Title">Dashboard Theme</h2>
              <p class="Polaris-SettingToggle__Description">Currently: <strong id="theme-label">Dark</strong></p>
            </div>
            <div class="Polaris-SettingToggle__Actions">
              <label class="Polaris-Toggle">
                <input type="checkbox" class="Polaris-Toggle__Input" id="theme-toggle">
                <span class="Polaris-Toggle__Slider"></span>
                <span class="visually-hidden">Toggle theme</span>
              </label>
            </div>
          </div>
        </div>
      </article>
    </div>
  </main>

  <div class="Polaris-Backdrop" id="backdrop"></div>

  <!-- PANEL: Rocket Loader -->
  <aside class="Polaris-Sheet" id="panel-rocket-loader" role="dialog" aria-labelledby="title-rocket-loader" aria-modal="true" aria-hidden="true">
    <header class="Polaris-Sheet__Header">
      <div class="Polaris-Sheet__HeaderIcon">üöÄ</div>
      <h2 class="Polaris-Sheet__HeaderTitle" id="title-rocket-loader">Rocket Loader</h2>
      <button class="Polaris-Sheet__CloseButton" aria-label="Close" data-close>
        <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor"><path d="M11.414 10l4.293-4.293a1 1 0 0 0-1.414-1.414L10 8.586 5.707 4.293a1 1 0 0 0-1.414 1.414L8.586 10l-4.293 4.293a1 1 0 1 0 1.414 1.414L10 11.414l4.293 4.293a1 1 0 0 0 1.414-1.414L11.414 10z"/></svg>
      </button>
    </header>
    <div class="Polaris-Sheet__Content">
      <div class="Polaris-Stack">
        <div class="Polaris-TextBlock">
          <h3 class="Polaris-TextBlock__Heading">The Problem</h3>
          <p><strong>Imagine your webpage as a race car.</strong> Without Rocket Loader, visitors wait at a blank screen while JavaScript loads. The "engine" has to warm up before they see anything.</p>
        </div>
        <div class="Polaris-TextBlock">
          <h3 class="Polaris-TextBlock__Heading">The Solution</h3>
          <p>Rocket Loader makes your page <em>launch immediately</em>‚Äîcontent appears while JavaScript loads in the background. Visitors see your products first, not a loading screen.</p>
        </div>
        <div class="Polaris-CalloutCard">
          <div class="Polaris-CalloutCard__Title">‚ú® The Magic</div>
          <p>JavaScript is deferred until after the DOM renders, making First Contentful Paint dramatically faster.</p>
        </div>
        <div class="Polaris-VisualBox">
          <div class="Polaris-VisualBox__Label">Performance Comparison</div>
          <div class="Browser-Mockup">
            <div class="Browser-Mockup__Bar">
              <div class="Browser-Mockup__Dots"><span></span><span></span><span></span></div>
              <div class="Browser-Mockup__URL">yourstore.myshopify.com</div>
            </div>
            <div class="Browser-Mockup__Content">
              <div class="Skeleton-Block Skeleton-Block--header"></div>
              <div class="Skeleton-Block Skeleton-Block--nav"></div>
              <div class="Skeleton-Block Skeleton-Block--hero"></div>
              <div class="Skeleton-Block Skeleton-Block--text"></div>
            </div>
          </div>
          <div class="Polaris-Banner--success">
            <span class="Polaris-Banner__Icon">‚úì</span>
            Content visible instantly
          </div>
          <div class="Timeline-Comparison">
            <div class="Timeline-Row">
              <div class="Timeline-Label">‚ùå Without Rocket Loader</div>
              <div class="Timeline-Bar">
                <div class="Timeline-Segment Timeline-Segment--blocking" style="width:70%">JS Blocking</div>
                <div class="Timeline-Segment Timeline-Segment--delayed" style="width:30%">Content</div>
              </div>
              <div class="Timeline-Time Timeline-Time--slow">~3.2s</div>
            </div>
            <div class="Timeline-Row">
              <div class="Timeline-Label">‚úÖ With Rocket Loader</div>
              <div class="Timeline-Bar">
                <div class="Timeline-Segment Timeline-Segment--fast" style="width:25%">Content</div>
                <div class="Timeline-Segment Timeline-Segment--deferred" style="width:75%">JS Deferred</div>
              </div>
              <div class="Timeline-Time Timeline-Time--fast">~0.8s</div>
            </div>
          </div>
          <div class="Stats-Grid">
            <div class="Stat-Card"><div class="Stat-Value">75%</div><div class="Stat-Label">Faster Paint</div></div>
            <div class="Stat-Card"><div class="Stat-Value">4x</div><div class="Stat-Label">Quicker Load</div></div>
          </div>
        </div>
      </div>
    </div>
  </aside>

  <!-- PANEL: Minify JavaScript -->
  <aside class="Polaris-Sheet" id="panel-minify-js" role="dialog" aria-labelledby="title-minify-js" aria-modal="true" aria-hidden="true">
    <header class="Polaris-Sheet__Header">
      <div class="Polaris-Sheet__HeaderIcon">üì¶</div>
      <h2 class="Polaris-Sheet__HeaderTitle" id="title-minify-js">Minify JavaScript</h2>
      <button class="Polaris-Sheet__CloseButton" aria-label="Close" data-close>
        <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor"><path d="M11.414 10l4.293-4.293a1 1 0 0 0-1.414-1.414L10 8.586 5.707 4.293a1 1 0 0 0-1.414 1.414L8.586 10l-4.293 4.293a1 1 0 1 0 1.414 1.414L10 11.414l4.293 4.293a1 1 0 0 0 1.414-1.414L11.414 10z"/></svg>
      </button>
    </header>
    <div class="Polaris-Sheet__Content">
      <div class="Polaris-Stack">
        <div class="Polaris-TextBlock">
          <h3 class="Polaris-TextBlock__Heading">The Problem</h3>
          <p><strong>Think of JavaScript files like a moving truck.</strong> Developers write code with spaces, comments, and long variable names for readability‚Äîbut browsers don't need any of that. It's like shipping air in your boxes.</p>
        </div>
        <div class="Polaris-TextBlock">
          <h3 class="Polaris-TextBlock__Heading">The Solution</h3>
          <p>Minification <em>vacuum-seals your code</em>‚Äîremoving whitespace, shortening names, and stripping comments. Same functionality, <em>much smaller package</em>.</p>
        </div>
        <div class="Polaris-CalloutCard">
          <div class="Polaris-CalloutCard__Title">‚ú® The Magic</div>
          <p>Less bytes = faster downloads = happier customers. Every millisecond counts for conversions.</p>
        </div>
        <div class="Polaris-VisualBox">
          <div class="Polaris-VisualBox__Label">Code Transformation</div>
          <div class="Code-Transform">
            <div>
              <div class="Code-Label">‚ùå Before (readable but bulky)</div>
              <div class="Code-Block Code-Block--before">
<span class="comment">// Calculate total price</span>
<span class="keyword">function</span> <span class="property">calculateTotal</span>(items) {
  <span class="keyword">let</span> total = <span class="value">0</span>;
  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="value">0</span>; i < items.length; i++) {
    total += items[i].price;
  }
  <span class="keyword">return</span> total;
}</div>
            </div>
            <div>
              <div class="Code-Label">‚úÖ After (compact & fast)</div>
              <div class="Code-Block Code-Block--after"><span class="keyword">function</span> <span class="property">c</span>(a){<span class="keyword">let</span> t=<span class="value">0</span>;<span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="value">0</span>;i<a.length;i++)t+=a[i].price;<span class="keyword">return</span> t}</div>
            </div>
          </div>
          <div class="Size-Compare">
            <div class="Size-Bar-Container">
              <div class="Size-Bar-Label"><span>Original</span><span>186 bytes</span></div>
              <div class="Size-Bar Size-Bar--original"></div>
            </div>
            <div class="Size-Bar-Container">
              <div class="Size-Bar-Label"><span>Minified</span><span>72 bytes</span></div>
              <div class="Size-Bar Size-Bar--compressed" style="width: 39%"></div>
            </div>
            <div class="Size-Savings">
              <div class="Size-Savings__Value">61%</div>
              <div class="Size-Savings__Label">Smaller file size</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </aside>

  <!-- PANEL: Minify CSS -->
  <aside class="Polaris-Sheet" id="panel-minify-css" role="dialog" aria-labelledby="title-minify-css" aria-modal="true" aria-hidden="true">
    <header class="Polaris-Sheet__Header">
      <div class="Polaris-Sheet__HeaderIcon">üé®</div>
      <h2 class="Polaris-Sheet__HeaderTitle" id="title-minify-css">Minify CSS</h2>
      <button class="Polaris-Sheet__CloseButton" aria-label="Close" data-close>
        <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor"><path d="M11.414 10l4.293-4.293a1 1 0 0 0-1.414-1.414L10 8.586 5.707 4.293a1 1 0 0 0-1.414 1.414L8.586 10l-4.293 4.293a1 1 0 1 0 1.414 1.414L10 11.414l4.293 4.293a1 1 0 0 0 1.414-1.414L11.414 10z"/></svg>
      </button>
    </header>
    <div class="Polaris-Sheet__Content">
      <div class="Polaris-Stack">
        <div class="Polaris-TextBlock">
          <h3 class="Polaris-TextBlock__Heading">The Problem</h3>
          <p><strong>CSS is like interior design notes.</strong> Designers write styles with beautiful formatting, helpful comments, and organized structure. But browsers just need the instructions‚Äînot the commentary.</p>
        </div>
        <div class="Polaris-TextBlock">
          <h3 class="Polaris-TextBlock__Heading">The Solution</h3>
          <p>CSS minification <em>strips away the fluff</em>‚Äîkeeping only what browsers need to render your beautiful store. Same stunning design, <em>faster delivery</em>.</p>
        </div>
        <div class="Polaris-CalloutCard">
          <div class="Polaris-CalloutCard__Title">‚ú® The Magic</div>
          <p>CSS loads before anything appears. Smaller CSS = faster "First Paint" = customers see your store sooner.</p>
        </div>
        <div class="Polaris-VisualBox">
          <div class="Polaris-VisualBox__Label">Style Compression</div>
          <div class="Code-Transform">
            <div>
              <div class="Code-Label">‚ùå Before (formatted)</div>
              <div class="Code-Block Code-Block--before">
<span class="comment">/* Primary button styles */</span>
<span class="property">.button</span> {
  <span class="property">background-color</span>: <span class="value">#F48120</span>;
  <span class="property">border-radius</span>: <span class="value">8px</span>;
  <span class="property">padding</span>: <span class="value">12px 24px</span>;
  <span class="property">font-weight</span>: <span class="value">600</span>;
}</div>
            </div>
            <div>
              <div class="Code-Label">‚úÖ After (compressed)</div>
              <div class="Code-Block Code-Block--after"><span class="property">.button</span>{<span class="property">background-color</span>:<span class="value">#F48120</span>;<span class="property">border-radius</span>:<span class="value">8px</span>;<span class="property">padding</span>:<span class="value">12px 24px</span>;<span class="property">font-weight</span>:<span class="value">600</span>}</div>
            </div>
          </div>
          <div class="Stats-Grid">
            <div class="Stat-Card"><div class="Stat-Value">~30%</div><div class="Stat-Label">Smaller CSS</div></div>
            <div class="Stat-Card"><div class="Stat-Value">50ms</div><div class="Stat-Label">Faster Render</div></div>
          </div>
        </div>
      </div>
    </div>
  </aside>

  <!-- PANEL: Brotli -->
  <aside class="Polaris-Sheet" id="panel-brotli" role="dialog" aria-labelledby="title-brotli" aria-modal="true" aria-hidden="true">
    <header class="Polaris-Sheet__Header">
      <div class="Polaris-Sheet__HeaderIcon">üóúÔ∏è</div>
      <h2 class="Polaris-Sheet__HeaderTitle" id="title-brotli">Brotli Compression</h2>
      <button class="Polaris-Sheet__CloseButton" aria-label="Close" data-close>
        <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor"><path d="M11.414 10l4.293-4.293a1 1 0 0 0-1.414-1.414L10 8.586 5.707 4.293a1 1 0 0 0-1.414 1.414L8.586 10l-4.293 4.293a1 1 0 1 0 1.414 1.414L10 11.414l4.293 4.293a1 1 0 0 0 1.414-1.414L11.414 10z"/></svg>
      </button>
    </header>
    <div class="Polaris-Sheet__Content">
      <div class="Polaris-Stack">
        <div class="Polaris-TextBlock">
          <h3 class="Polaris-TextBlock__Heading">The Problem</h3>
          <p><strong>Sending data over the internet is like shipping packages.</strong> The bigger the package, the longer it takes to arrive. Even minified files can be compressed further‚Äîlike vacuum-sealing clothes for travel.</p>
        </div>
        <div class="Polaris-TextBlock">
          <h3 class="Polaris-TextBlock__Heading">The Solution</h3>
          <p>Brotli is Google's <em>next-generation compression</em>. It squeezes files 15-25% smaller than the old gzip method‚Äîmeaning your store loads noticeably faster.</p>
        </div>
        <div class="Polaris-CalloutCard">
          <div class="Polaris-CalloutCard__Title">‚ú® The Magic</div>
          <p>Brotli uses a smarter algorithm with a pre-built dictionary of common web patterns. It's like having a compression expert who already knows HTML/CSS/JS.</p>
        </div>
        <div class="Polaris-VisualBox">
          <div class="Polaris-VisualBox__Label">Compression Comparison</div>
          <div class="Size-Compare">
            <div class="Size-Bar-Container">
              <div class="Size-Bar-Label"><span>Original File</span><span>500 KB</span></div>
              <div class="Size-Bar Size-Bar--original"></div>
            </div>
            <div class="Size-Bar-Container">
              <div class="Size-Bar-Label"><span>Gzip (old)</span><span>150 KB</span></div>
              <div class="Size-Bar" style="width: 30%; background: var(--p-color-text-disabled);"></div>
            </div>
            <div class="Size-Bar-Container">
              <div class="Size-Bar-Label"><span>Brotli (new)</span><span>115 KB</span></div>
              <div class="Size-Bar Size-Bar--compressed" style="width: 23%"></div>
            </div>
          </div>
          <div class="Stats-Grid">
            <div class="Stat-Card"><div class="Stat-Value">77%</div><div class="Stat-Label">Smaller Files</div></div>
            <div class="Stat-Card"><div class="Stat-Value">20%</div><div class="Stat-Label">Better Than Gzip</div></div>
          </div>
          <div class="Polaris-Banner--success">
            <span class="Polaris-Banner__Icon">‚úì</span>
            Supported by all modern browsers
          </div>
        </div>
      </div>
    </div>
  </aside>

  <!-- PANEL: Early Hints -->
  <aside class="Polaris-Sheet" id="panel-early-hints" role="dialog" aria-labelledby="title-early-hints" aria-modal="true" aria-hidden="true">
    <header class="Polaris-Sheet__Header">
      <div class="Polaris-Sheet__HeaderIcon">‚è±Ô∏è</div>
      <h2 class="Polaris-Sheet__HeaderTitle" id="title-early-hints">Early Hints</h2>
      <button class="Polaris-Sheet__CloseButton" aria-label="Close" data-close>
        <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor"><path d="M11.414 10l4.293-4.293a1 1 0 0 0-1.414-1.414L10 8.586 5.707 4.293a1 1 0 0 0-1.414 1.414L8.586 10l-4.293 4.293a1 1 0 1 0 1.414 1.414L10 11.414l4.293 4.293a1 1 0 0 0 1.414-1.414L11.414 10z"/></svg>
      </button>
    </header>
    <div class="Polaris-Sheet__Content">
      <div class="Polaris-Stack">
        <div class="Polaris-TextBlock">
          <h3 class="Polaris-TextBlock__Heading">The Problem</h3>
          <p><strong>Loading a webpage is like cooking dinner.</strong> Normally, the browser waits for the "recipe" (HTML) before gathering ingredients (CSS, fonts, images). That's wasted time!</p>
        </div>
        <div class="Polaris-TextBlock">
          <h3 class="Polaris-TextBlock__Heading">The Solution</h3>
          <p>Early Hints is like a <em>prep cook giving you a head start</em>. Before the main response arrives, the browser gets a "103" hint saying "Hey, you'll need these files‚Äîstart downloading now!"</p>
        </div>
        <div class="Polaris-CalloutCard">
          <div class="Polaris-CalloutCard__Title">‚ú® The Magic</div>
          <p>HTTP 103 responses arrive in ~50ms while the server prepares the full page. That's free loading time browsers would otherwise waste waiting.</p>
        </div>
        <div class="Polaris-VisualBox">
          <div class="Polaris-VisualBox__Label">Request Timeline</div>
          <div class="Sequence-Diagram">
            <div class="Sequence-Row Sequence-Row--highlight">
              <div class="Sequence-Step">1</div>
              <div class="Sequence-Content">
                <div class="Sequence-Title">Browser requests page</div>
                <div class="Sequence-Desc">GET /products/awesome-thing</div>
              </div>
              <div class="Sequence-Time">0ms</div>
            </div>
            <div class="Sequence-Row Sequence-Row--highlight">
              <div class="Sequence-Step">2</div>
              <div class="Sequence-Content">
                <div class="Sequence-Title">üöÄ Early Hint arrives!</div>
                <div class="Sequence-Desc">103: Preload styles.css, fonts.woff2</div>
              </div>
              <div class="Sequence-Time">50ms</div>
            </div>
            <div class="Sequence-Row">
              <div class="Sequence-Step">3</div>
              <div class="Sequence-Content">
                <div class="Sequence-Title">Browser starts preloading</div>
                <div class="Sequence-Desc">Downloads CSS & fonts in parallel</div>
              </div>
              <div class="Sequence-Time">51ms</div>
            </div>
            <div class="Sequence-Row">
              <div class="Sequence-Step">4</div>
              <div class="Sequence-Content">
                <div class="Sequence-Title">Full response arrives</div>
                <div class="Sequence-Desc">200 OK with HTML content</div>
              </div>
              <div class="Sequence-Time">200ms</div>
            </div>
            <div class="Sequence-Row Sequence-Row--highlight">
              <div class="Sequence-Step">‚úì</div>
              <div class="Sequence-Content">
                <div class="Sequence-Title">Page renders faster!</div>
                <div class="Sequence-Desc">CSS already loaded = instant paint</div>
              </div>
              <div class="Sequence-Time">250ms</div>
            </div>
          </div>
          <div class="Stats-Grid">
            <div class="Stat-Card"><div class="Stat-Value">~30%</div><div class="Stat-Label">Faster LCP</div></div>
            <div class="Stat-Card"><div class="Stat-Value">150ms</div><div class="Stat-Label">Head Start</div></div>
          </div>
        </div>
      </div>
    </div>
  </aside>

  <script>
    // Panel Management
    const backdrop = document.getElementById('backdrop');
    let activePanel = null;
    let activeCard = null;

    function openPanel(panelId, card) {
      const panel = document.getElementById('panel-' + panelId);
      if (!panel) return;
      
      activePanel = panel;
      activeCard = card;
      
      backdrop.classList.add('is-active');
      panel.classList.add('is-active');
      panel.setAttribute('aria-hidden', 'false');
      card.classList.add('is-active');
      document.body.style.overflow = 'hidden';
      
      panel.querySelector('[data-close]').focus();
    }

    function closePanel() {
      if (!activePanel) return;
      
      backdrop.classList.remove('is-active');
      activePanel.classList.remove('is-active');
      activePanel.setAttribute('aria-hidden', 'true');
      if (activeCard) activeCard.classList.remove('is-active');
      document.body.style.overflow = '';
      
      if (activeCard) {
        activeCard.querySelector('[data-panel]').focus();
      }
      
      activePanel = null;
      activeCard = null;
    }

    // Event Listeners
    document.querySelectorAll('[data-panel]').forEach(btn => {
      btn.addEventListener('click', () => {
        const panelId = btn.getAttribute('data-panel');
        const card = btn.closest('.Polaris-Card');
        openPanel(panelId, card);
      });
    });

    document.querySelectorAll('[data-close]').forEach(btn => {
      btn.addEventListener('click', closePanel);
    });

    backdrop.addEventListener('click', closePanel);

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && activePanel) closePanel();
    });

    // Theme Toggle
    const themeToggle = document.getElementById('theme-toggle');
    const themeLabel = document.getElementById('theme-label');

    function setTheme(isLight) {
      document.body.classList.toggle('light-theme', isLight);
      themeLabel.textContent = isLight ? 'Light' : 'Dark';
    }

    themeToggle.addEventListener('change', function() {
      setTheme(this.checked);
      try { localStorage.setItem('cc-theme', this.checked ? 'light' : 'dark'); } catch(e) {}
    });

    try {
      if (localStorage.getItem('cc-theme') === 'light') {
        themeToggle.checked = true;
        setTheme(true);
      }
    } catch(e) {}
  </script>
</body>
</html>
